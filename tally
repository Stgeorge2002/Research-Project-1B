import pandas as pd

# Load the larger dataset
larger_data = pd.read_csv('C:/Users/theoa/OneDrive/Desktop/Bath/Research Project 1B/DATA/finer data/New Data.csv')

# Hardcoded list of features to keep, which appear more than twice in the tally
features_to_keep = [
    'SERDarkNuc', 'SEREdgeCytoTub', 'SERSaddleCytoTub', 'SERValleyNuc', 'CytoIntensityH', 
    'CytoNonMembraneIntensityActin', 'CytoNonMembraneIntensityTubulin', 'HarHomMembAct', 
    'NucIntensityH', 'NucleusArea', 'NucPlusRingTubulin', 'ProtrusionIntensityActin', 
    'ProtrusionIntensityTubulin', 'ringIntensityActin', 'SERDarkCytoTub', 'SEREdgeNuc', 
    'SERHoleCytoTub', 'SERHoleMembAct', 'SERRidgeCytoTub', 'SERSpotCytoTub', 'SERValleyCytoTub', 
    'SERValleyMembAct', 'WholeCellIntensityTubulin'
]

# Filter columns based on the tally
# Assuming the first 9 columns are fixed and the rest are feature columns to filter
columns_to_keep = larger_data.columns[:9].tolist() + [col for col in larger_data.columns[9:] if col in features_to_keep]

# Create a new dataframe with only the required columns
filtered_data = larger_data[columns_to_keep]

# Save the filtered data to a new CSV file
filtered_data.to_csv('C:/Users/theoa/OneDrive/Desktop/Bath/Research Project 1B/DATA/yeahbby.csv', index=False)

print("Filtering complete! The filtered dataset has been saved as 'filtered_data_more_than_twice.csv'.")
