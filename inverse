import pandas as pd

def load_datasets(original_path, filtered_path):
    """Load the original and filtered datasets from CSV files."""
    original_df = pd.read_csv(original_path)
    filtered_df = pd.read_csv(filtered_path)
    return original_df, filtered_df

def subtract_datasets(original_df, filtered_df):
    """Subtract the filtered dataset from the original dataset."""
    return original_df - filtered_df

def save_dataset(df, path):
    """Save the dataset to a CSV file."""
    df.to_csv(path, index=False)
    print(f"Dataset saved to {path}")

def main():
    # Paths to the datasets
    original_dataset_path = 'C:/Users/theoa/OneDrive/Desktop/Bath/Research Project 1B/test/AD.csv'
    filtered_dataset_path = 'C:/Users/theoa/OneDrive/Desktop/Bath/Research Project 1B/test/filtered_dataset.csv'
    output_dataset_path = 'C:/Users/theoa/OneDrive/Desktop/Bath/Research Project 1B/test'

    # Load datasets
    original_df, filtered_df = load_datasets(original_dataset_path, filtered_dataset_path)

    # Subtract datasets
    inverse_df = subtract_datasets(original_df, filtered_df)

    # Save the inverse dataset
    save_dataset(inverse_df, output_dataset_path)

if __name__ == "__main__":
    main()
